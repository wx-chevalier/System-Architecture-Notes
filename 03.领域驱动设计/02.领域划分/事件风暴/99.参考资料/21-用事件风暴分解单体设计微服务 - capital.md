> [原文地址](https://www.jdon.com/56731.html)

# 用事件风暴分解单体设计微服务 - capital

作为软件工程师和架构师，我们经常面临为遗留系统创建目标微服务架构的挑战。这些系统通常是已经存在多年的大型单体应用程序，通常具有很多依赖性，并且通常在您的公司中没有一个人了解这一切。在这些情况下，一群领域专家是理解围绕业务上下文和所需功能的“原因”的关键，上下文对于创建成功的架构至关重要。

通常，您首先创建一个业务能力模型或分类法来绘制业务能力并将它们在特定级别分组下对齐。模型/分类法表示应用程序所需的一组功能集合。虽然这是有帮助的，但它有一些差距。分类法本身并没有提供更广泛的用例上下文，也没有提供有关如何将功能分解为微服务的洞察力。这就是事件风暴可以提供帮助的地方。事件风暴由 Alberto Brandolini 创建，事件风暴是一种交互式方式进行领域驱动设计(DDD)，它将业务和技术部门的领域专家聚集在一起。在本文中，我将提供事件风暴的深入迭代示例、使用它的一些经验教训，以及如何将其应用于您的架构工作。

首先想澄清一些关于事件风暴的常见误解：

- 误解 #1 — 与 DDD 相同：虽然事件风暴基于许多 DDD 概念——包括有界上下文和聚合——但正式的 DDD 往往很复杂，需要大量的培训。事件风暴侧重于让所有领域专家参与的交互式协作白板练习。它更简单，不需要像正式 DDD 那样进行大量培训。

- 误解#2——它与设计思维相同：事件风暴和设计思维都利用了交互式业务流程映射练习和白板。它们的不同之处在于，事件风暴侧重于定义微服务架构的分解和分类。它还关注业务流程中当前正在发生的事情，称为事件。设计思维涉及一个分阶段的过程，包括问题定义、需求发现和基准测试、构思、原型设计和测试。它还更多地关注同理心和痛点。

现在让我们深入了解事件风暴的细节。首先要了解的事情之一是捕获的有关域的不同类型的详细信息。这些不同类型的细节通常由不同颜色的便签表示。让我们详细介绍其中的每一个。

- 事件（橙色）：这些是事件风暴中最重要和最广泛使用的组件，代表[**领域事件**](https://www.jdon.com/tag-20395/)和与领域专家相关的任何事情。它们是用过去时写成的，并提供了用于后面分类步骤的基本细节。
- 命令（蓝色）：这些是做某事的请求。它们可以源自用户或系统，也可以源自其他事件。
- 系统（粉红色）：这些代表域中涉及的系统。它们可以发出命令或接收命令以及触发事件。
- 用户（黄色）：这些是参与流程的人类用户。他们可能是一个人，也可能是一个部门/团队。黄色便签有助于显示业务流程的工作流程有多复杂，具体取决于所涉及的部门数量和来回的数量。
- 聚合（棕褐色）：这是第一级分类，可以被认为是一组事件操作的“事物”。通常，它们是一个名词，可以在一组相互依赖的事件中识别出来。
- 读取模型（绿色）：这表示可能对用户或系统做出决策至关重要的数据。我没有看到经常使用这个，但是当需要强调用户看到的数据时它会很有帮助。
- policy 政策（灰色）：这些代表可能需要执行的标准或规则，例如合规性政策的规则。
